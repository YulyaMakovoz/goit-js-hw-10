{"mappings":"AAGA,MAEMA,EAAUC,SAASC,cAAc,eACjCC,EAAgBF,SAASC,cAAc,iBACvCE,EAAgBH,SAASC,cAAc,iBAE7CF,EAAQK,iBAAiB,SAIzB,SAAuBC,ICbQC,EDcOD,EAAME,OAAOC,MAAMC,OCb9CC,MAAM,uCAAuCJ,oDACnDK,MAAKC,GACsB,MAApBA,EAASC,OACFD,EAASE,OAGM,MAApBF,EAASC,OACJE,QAAQC,OAAO,kBADxB,KDSDL,MAAMM,KAKf,SAAuBA,GACfA,EAAUC,OAAS,GACnBC,MAAM,8DACCF,EAAUC,QAAU,IAAMD,EAAUC,OAAS,EACpDD,EAAUG,KAAKC,GAOvB,SAAkBf,EAAMgB,GACnBpB,EAAcqB,mBAAmB,YAAY,8BAA8BD,6BAAgChB,eAPxGkB,CAASH,EAAQf,KAAKmB,OAAQJ,EAAQK,MAAMC,OAChB,IAArBV,EAAUC,QASzB,SAAkBG,GACd,MAAMf,KAAEA,EAAIsB,QAAEA,EAAOC,WAAGA,EAAUH,MAACA,EAAKI,UAAEA,GAAcT,EACxDlB,EAAcoB,mBAAmB,YAAa,2BAA2BG,EAAMC,8BAA8BrB,EAAKmB,6DAElGG,gCACGC,+BACDE,OAAOC,OAAOF,sBAd5BG,CAAShB,EAAU,IAZIiB,CAAcjB,MACpCkB,OAAOC,IACRC,QAAQC,IAAIF,MClBb,IAAwB9B","sources":["src/index.js","src/fetchCountries.js"],"sourcesContent":["import './sass/index.scss';\nimport { fetchCountries } from './fetchCountries';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst inputEl = document.querySelector('#search-box');\nconst countryListEl = document.querySelector('.country-list');\nconst countryInfoEl = document.querySelector('.country-info');\n\ninputEl.addEventListener('input', onInputChange);\n\n\n// Запускает поиск по странам + ошибка если нет такой страны ---ДОБАВИТЬ!!!!\nfunction onInputChange(event) {\n    const searchItem = fetchCountries(event.target.value.trim());\n    searchItem\n        .then((countries) => { onStartSearch(countries); })\n        .catch (error => {\n        console.log(error);\n    });\n}\nfunction onStartSearch(countries) {\n    if (countries.length > 10) {\n        alert(\"Too many matches found. Please enter a more specific name.\");\n    } else if (countries.length <= 10 && countries.length > 1) {\n        countries.map (country => \n        showList(country.name.common, country.flags.svg))\n    } else if (countries.length === 1) {\n        showCard(countries[0]);\n     }\n }\n\nfunction showList(name, flag) {\n     countryListEl.insertAdjacentHTML('beforeend',`<li class=\"item\"><img src=\"${flag}\" alt=\"\" width=\"50\"> <h2>${name}</h2></li>`)\n}\n \nfunction showCard(country) {\n    const { name, capital,  population,flags, languages } = country;\n    countryInfoEl.insertAdjacentHTML('beforeend', `<div class=\"\"><img src=\"${flags.svg}\" alt=\"\" width=\"50\"><h1>${name.common}</h1></div>\n      <ul class=\"\">\n      <li>Capital:${capital}</li>\n      <li>Population:${population}</li>\n      <li>Languages:${Object.values(languages)}</li>\n    </ul>`);\n}\n\n\n\n\n// fetch(`https://restcountries.com/v3.1/all/`);\n","export function fetchCountries(name) {\n    return fetch(`https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`)    \n    .then(response => {        \n        if (response.status === 200) {            \n            return response.json();\n          }\n      \n          if (response.status === 404) {\n            return Promise.reject('Error 404');\n          }     \n    })    \n}\n"],"names":["$1f0dc3b9307be026$var$inputEl","document","querySelector","$1f0dc3b9307be026$var$countryListEl","$1f0dc3b9307be026$var$countryInfoEl","addEventListener","event","name","target","value","trim","fetch","then","response","status","json","Promise","reject","countries","length","alert","map","country","flag","insertAdjacentHTML","$1f0dc3b9307be026$var$showList","common","flags","svg","capital","population","languages","Object","values","$1f0dc3b9307be026$var$showCard","$1f0dc3b9307be026$var$onStartSearch","catch","error","console","log"],"version":3,"file":"index.c60f1717.js.map"}