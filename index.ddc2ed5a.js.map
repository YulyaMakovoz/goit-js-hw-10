{"mappings":"YAGA,IAEMA,EAAUC,SAASC,cAAc,eACjCC,EAAgBF,SAASC,cAAc,iBACvCE,EAAgBH,SAASC,cAAc,iBAE7CF,EAAQK,iBAAiB,SAIzB,SAAuBC,ICbQC,EDcOD,EAAME,OAAOC,MAAMC,OCb9CC,MAAM,uCAA4CC,OAALL,EAAK,oDACxDM,MAAK,SAAAC,GACF,OAAwB,MAApBA,EAASC,OACFD,EAASE,OAGM,MAApBF,EAASC,OACJE,QAAQC,OAAO,kBADxB,MDSDL,MAAK,SAACM,IAKf,SAAuBA,GACfA,EAAUC,OAAS,GACnBC,MAAM,8DACCF,EAAUC,QAAU,IAAMD,EAAUC,OAAS,EACpDD,EAAUG,KAAK,SAAAC,G,OAOvB,SAAkBhB,EAAMiB,GACnBrB,EAAcsB,mBAAmB,YAAY,8BAA8Db,OAAhCY,EAAK,6BAAgCZ,OAALL,EAAK,eAP7GmB,CAASH,EAAQhB,KAAKoB,OAAQJ,EAAQK,MAAMC,QAChB,IAArBV,EAAUC,QASzB,SAAkBG,GACd,IAAQhB,EAAgDgB,EAAhDhB,KAAMuB,EAA0CP,EAA1CO,QAAUC,EAAgCR,EAAhCQ,WAAWH,EAAqBL,EAArBK,MAAOI,EAAcT,EAAdS,UAC1C5B,EAAcqB,mBAAmB,YAAa,2BAA+Db,OAApCgB,EAAMC,IAAI,4BAEnEjB,OAF6FL,EAAKoB,OAAO,wDAGtGf,OADHkB,EAAQ,gCAENlB,OADCmB,EAAW,+BACanB,OAAzBqB,OAAOC,OAAOF,GAAW,qBAdvCG,CAAShB,EAAU,IAZIiB,CAAcjB,MACpCkB,OAAO,SAAAC,GACRC,QAAQC,IAAIF,MClBb,IAAwB/B,K","sources":["src/index.js","src/fetchCountries.js"],"sourcesContent":["import './sass/index.scss';\nimport { fetchCountries } from './fetchCountries';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst inputEl = document.querySelector('#search-box');\nconst countryListEl = document.querySelector('.country-list');\nconst countryInfoEl = document.querySelector('.country-info');\n\ninputEl.addEventListener('input', onInputChange);\n\n\n// Запускает поиск по странам + ошибка если нет такой страны ---ДОБАВИТЬ!!!!\nfunction onInputChange(event) {\n    const searchItem = fetchCountries(event.target.value.trim());\n    searchItem\n        .then((countries) => { onStartSearch(countries); })\n        .catch (error => {\n        console.log(error);\n    });\n}\nfunction onStartSearch(countries) {\n    if (countries.length > 10) {\n        alert(\"Too many matches found. Please enter a more specific name.\");\n    } else if (countries.length <= 10 && countries.length > 1) {\n        countries.map (country => \n        showList(country.name.common, country.flags.svg))\n    } else if (countries.length === 1) {\n        showCard(countries[0]);\n     }\n }\n\nfunction showList(name, flag) {\n     countryListEl.insertAdjacentHTML('beforeend',`<li class=\"item\"><img src=\"${flag}\" alt=\"\" width=\"50\"> <h2>${name}</h2></li>`)\n}\n \nfunction showCard(country) {\n    const { name, capital,  population,flags, languages } = country;\n    countryInfoEl.insertAdjacentHTML('beforeend', `<div class=\"\"><img src=\"${flags.svg}\" alt=\"\" width=\"50\"><h1>${name.common}</h1></div>\n      <ul class=\"\">\n      <li>Capital:${capital}</li>\n      <li>Population:${population}</li>\n      <li>Languages:${Object.values(languages)}</li>\n    </ul>`);\n}\n\n\n\n\n// fetch(`https://restcountries.com/v3.1/all/`);\n","export function fetchCountries(name) {\n    return fetch(`https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`)    \n    .then(response => {        \n        if (response.status === 200) {            \n            return response.json();\n          }\n      \n          if (response.status === 404) {\n            return Promise.reject('Error 404');\n          }     \n    })    \n}\n"],"names":["$b8f9b7833fa37166$var$inputEl","document","querySelector","$b8f9b7833fa37166$var$countryListEl","$b8f9b7833fa37166$var$countryInfoEl","addEventListener","event","name","target","value","trim","fetch","concat","then","response","status","json","Promise","reject","countries","length","alert","map","country","flag","insertAdjacentHTML","$b8f9b7833fa37166$var$showList","common","flags","svg","capital","population","languages","Object","values","$b8f9b7833fa37166$var$showCard","$b8f9b7833fa37166$var$onStartSearch","catch","error","console","log"],"version":3,"file":"index.ddc2ed5a.js.map"}